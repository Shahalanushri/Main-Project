<div class="page-content-wrapper p-5">
    <div class="container-lg">
        <div class="card">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="mb-0">Gallery</h4>
                    <input type="text" id="searchInput" class="form-control w-50" placeholder="Search by event...">
                </div>

                <div class="standard-tab">
                    <div class="tab-content rounded-lg p-3 shadow-sm" id="affanTabs1Content">
                        <!-- All Categories Tab -->
                        <div class="tab-pane fade show active" id="AllTab" role="tabpanel" aria-labelledby="All">
                            <div class="row" id="galleryContainer">
                                {{#each galleries}}
                                <div class="col-md-4 col-sm-6 mb-3 gallery-item" data-title="{{this.title}}">
                                    <div class="card shadow-sm">
                                        <a href="/images/gallery-images/{{this._id}}.png">
                                            <img src="/images/gallery-images/{{this._id}}.png" class="card-img-top" alt="Gallery Image">
                                        </a>
                                        <div class="card-body">
                                            <h6 class="card-title">{{this.title}}</h6>
                                            <p class="card-text">{{this.desc}}</p>
                                        </div>
                                    </div>
                                </div>
                                {{/each}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById("searchInput").addEventListener("keyup", function() {
        let searchValue = this.value.toLowerCase();
        let galleryItems = document.querySelectorAll(".gallery-item");

        galleryItems.forEach(item => {
            let title = item.getAttribute("data-title").toLowerCase();
            if (title.includes(searchValue)) {
                item.style.display = "block";
            } else {
                item.style.display = "none";
            }
        });
    });
</script>
